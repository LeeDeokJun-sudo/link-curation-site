<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레퍼런스 정리 사이트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #000000; color: #FFFFFF; font-family: 'Pretendard', 'Malgun Gothic', sans-serif; }
        .container { max-width: 1400px; }
        .ratio-4-to-1 { padding-top: 25%; position: relative; background-color: #1a1a1a; border-radius: 0.5rem; height: 0; overflow: hidden; }
        .grid-responsive { grid-template-columns: repeat(1, minmax(0, 1fr)); gap: 1rem; }
        @media (min-width: 640px) { .grid-responsive { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
        @media (min-width: 1024px) { .grid-responsive { grid-template-columns: repeat(4, minmax(0, 1fr)); } }
        .item-content { display: flex; flex-direction: column; justify-content: center; align-items: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%; padding: 0 15px; text-align: center; word-wrap: break-word; overflow-wrap: break-word; z-index: 5; }
        .item-content .item-name { font-size: 1.125rem; font-weight: 800; margin-bottom: 0.25rem; line-height: 1.2; }
        .item-content .item-desc { font-size: 0.75rem; font-weight: 500; color: #9ca3af; line-height: 1.3; }
        @media (min-width: 640px) { .item-content .item-name { font-size: 1.25rem; } .item-content .item-desc { font-size: 0.875rem; } }
        @media (min-width: 1024px) { .item-content .item-name { font-size: 1.5rem; } }
        .main-title { font-size: 2rem; }
        @media (min-width: 640px) { .main-title { font-size: 2.5rem; } }
        @media (min-width: 1024px) { .main-title { font-size: 3rem; } }
        .category-header { font-size: 1.25rem; }
        @media (min-width: 640px) { .category-header { font-size: 1.5rem; } }
        @media (min-width: 1024px) { .category-header { font-size: 1.875rem; } }
    </style>
</head>
<body class="min-h-screen p-4 sm:p-6 lg:p-8">
    <div class="container mx-auto">
        <header class="py-6 sm:py-8 text-center">
            <h1 class="main-title font-extrabold tracking-tight">레퍼런스 정리 사이트</h1>
            <p class="mt-2 text-base sm:text-lg text-gray-400">나만의 아티스트 작업물 큐레이션</p>
        </header>
        <section class="mb-6 flex justify-center">
            <div class="w-full max-w-3xl">
                <div class="relative">
                    <input type="text" id="search-input" placeholder="검색어 입력 (예: 3D motion graphics)" class="w-full p-3 sm:p-4 bg-gray-800 text-white rounded-xl border border-gray-700 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition duration-150 shadow-lg text-sm sm:text-base">
                </div>
            </div>
        </section>
        <section class="mb-8 sm:mb-12 flex justify-center">
            <div class="flex flex-wrap justify-center gap-2 sm:gap-3 w-full max-w-3xl">
                <button class="filter-btn bg-gray-800 text-gray-300 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium hover:bg-indigo-600 hover:text-white transition duration-200">3D</button>
                <button class="filter-btn bg-gray-800 text-gray-300 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium hover:bg-indigo-600 hover:text-white transition duration-200">Motion</button>
                <button class="filter-btn bg-gray-800 text-gray-300 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium hover:bg-indigo-600 hover:text-white transition duration-200">Media Art</button>
                <button class="filter-btn bg-gray-800 text-gray-300 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium hover:bg-indigo-600 hover:text-white transition duration-200">VFX</button>
            </div>
        </section>
        <div id="links-container">
            <div class="text-center text-yellow-500 py-16">⏳ Firebase에서 데이터를 불러오는 중입니다...</div>
        </div>
    </div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";
        const firebaseConfig = { apiKey: "AIzaSyDzPalx0dYavQNN12N9IXAElO9sMZRT3Hk", authDomain: "artist-reference-2025-a0ed1.firebaseapp.com", projectId: "artist-reference-2025-a0ed1", storageBucket: "artist-reference-2025-a0ed1.firebasestorage.app", messagingSenderId: "478548583901", appId: "1:478548583901:web:21f3e6462bd3fc7ce7c234" };
        let db; const linksContainer = document.getElementById('links-container');
        try { const app = initializeApp(firebaseConfig); db = getFirestore(app); console.log("✅ Firebase 초기화 성공!"); } catch (e) { console.error("❌ Firebase 초기화 실패:", e); linksContainer.innerHTML = `<div class="text-center text-red-500 py-16">🚨 Firebase 초기화 실패<br><div class="text-sm mt-4">${e.message}</div></div>`; }
        async function loadLinks() { if (!db) return; try { const querySnapshot = await getDocs(collection(db, "links")); if (querySnapshot.empty) { linksContainer.innerHTML = '<div class="text-center text-yellow-500 py-16">⚠️ 데이터가 없습니다</div>'; return; } linksContainer.innerHTML = ''; const grouped = {}; querySnapshot.forEach((doc) => { const data = doc.data(); const category = data.category || '기타'; if (!grouped[category]) grouped[category] = []; grouped[category].push({ id: doc.id, ...data }); }); const categoryOrder = ['AI TOOLS', 'CAREER & JOB', 'VIDEO', 'DESIGN & PORTFOLIO']; categoryOrder.forEach(category => { if (!grouped[category]) return; const header = document.createElement('h2'); header.className = 'category-header font-bold mb-3 sm:mb-4 mt-6 sm:mt-8 tracking-wider text-gray-300 border-b border-gray-700 pb-2'; header.textContent = category; linksContainer.appendChild(header); const grid = document.createElement('div'); grid.className = 'grid grid-responsive mb-8 sm:mb-12'; grouped[category].forEach(link => { const a = document.createElement('a'); a.href = link.url || '#'; a.target = '_blank'; a.className = 'block bg-gray-900 rounded-lg overflow-hidden shadow-2xl transition duration-300 hover:shadow-indigo-500/50 hover:scale-105'; const colorClass = link.color || 'text-white'; a.innerHTML = `<div class="ratio-4-to-1"><div class="item-content ${colorClass}"><span class="item-name whitespace-normal">${link.name || '이름 없음'}</span><span class="item-desc whitespace-normal">${link.description || ''}</span></div></div>`; grid.appendChild(a); }); linksContainer.appendChild(grid); }); console.log("✅ 렌더링 완료!"); } catch (e) { console.error("❌ 로딩 중 오류:", e); linksContainer.innerHTML = `<div class="text-center text-red-500 py-16">🚨 데이터 로딩 실패<br><div class="text-sm mt-4">오류: ${e.message}</div></div>`; } }
        if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', loadLinks); } else { loadLinks(); }
    </script>
</body>
</html>
